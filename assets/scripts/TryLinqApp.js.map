{"version":3,"file":"TryLinqApp.js","sourceRoot":"","sources":["../../src/AppToolPanel.ts","../../src/AppCodePanel.ts","../../src/AppDataPanel.ts","../../src/AppPage.ts","../../src/AppPanelsLayout.ts","../../src/AppResultsPanel.ts","../../src/AppToolbar.ts","../../src/TryLinqApp.ts"],"names":[],"mappings":"AACA,IAAU,OAAO,CAqDhB;AArDD,WAAU,OAAO;IAEb,MAAa,YAAa,SAAQ,KAAK,CAAC,SAAS;QA4B7C,YAAY,QAA+B;YACvC,KAAK,CAAC,QAAQ,IAAI,YAAY,CAAC,2BAA2B,CAAC,CAAC;QAChE,CAAC;QAES,kBAAkB,CAAC,gBAAwC;YACjE,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;YAE3C,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,OAAO,CAAc,SAAS,CAAC,CAAC,OAAO,CAAC;YAC9E,IAAI,CAAC,QAAQ,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC1D,CAAC;QAED,IAAW,OAAO;YACd,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;;IAxCyB,sCAAyB,GAAG;;;;;;;;;;MAUxD,CAAC;IAE2B,4CAA+B,GAAG;;;;;;gBAMpD,CAAC;IAEe,wCAA2B,GAAG,YAAY,YAAY,CAAC,yBAAyB,eAAe,YAAY,CAAC,+BAA+B,EAAE,CAAC;IAtB7J,oBAAY,eA2CxB,CAAA;IAED,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC1B,SAAS,EAAE,KAAK,CAAC,SAAS;QAC1B,gBAAgB,EAAE,YAAY;QAC9B,SAAS,EAAE,cAAc;QACzB,OAAO,EAAE,gBAAgB;KAC5B,CAAC,CAAC;AACP,CAAC,EArDS,OAAO,KAAP,OAAO,QAqDhB;ACpDD,IAAU,OAAO,CAmHhB;AAnHD,WAAU,OAAO;IAIb,MAAa,YAAa,SAAQ,QAAA,YAAY;QA2C1C,YAAY,QAA+B;YACvC,KAAK,CAAC,QAAQ,IAAI,YAAY,CAAC,2BAA2B,CAAC,CAAC;YAG5D,IAAI,CAAC,gBAAgB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAgC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;YAC3G,IAAI,CAAC,sBAAsB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAgC,IAAI,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;YACvH,IAAI,CAAC,gBAAgB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAgC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;QAC/G,CAAC;QAES,kBAAkB,CAAC,gBAAwC;YACjE,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;YAE3C,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,OAAO,CAAc,YAAY,CAAC,CAAC,OAAO,CAAC;YACpF,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,OAAO,CAAc,SAAS,CAAC,CAAC,OAAO,CAAC;YAC9E,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC,OAAO,CAAc,QAAQ,CAAC,CAAC,OAAO,CAAC;YAC5E,IAAI,CAAC,sBAAsB,GAAG,gBAAgB,CAAC,OAAO,CAAc,kBAAkB,CAAC,CAAC,OAAO,CAAC;YAEhG,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;YAClC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC,CAAC;YAClF,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAE9D,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAE5C,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;YAEpD,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;YAE5B,IAAI,WAAW,GAAG,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC;YACzC,WAAW,CAAC,MAAM,GAAG,UAAU,CAAC;YAChC,WAAW,CAAC,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC;YAC/C,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;gBAC/B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,MAAgB,CAAC;gBACpC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;YACpC,CAAC,CAAC,CAAC;YACH,WAAW,CAAC,OAAO,GAAG,2DAA2D,CAAC;YAClF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YAEpC,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC;YACzF,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,OAAO,EAAE,CAAC,CAAC;YAEtE,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAChC,CAAC;QAED,IAAW,IAAI;YACX,OAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAa,CAAC,IAAI,EAAE,CAAC;QACtD,CAAC;QACD,IAAW,IAAI,CAAC,IAAY;YACxB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;QAEM,cAAc,CAAC,SAAiB;YACnC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACrC,CAAC;;IA7FyB,sCAAyB,GAAG,GAAG,QAAA,YAAY,CAAC,yBAAyB;;;;;;;;;MASjG,CAAC;IAE2B,4CAA+B,GAAG;;;;;;;;;;;;;;;;;gBAiBpD,CAAC;IAEe,wCAA2B,GAAG,YAAY,YAAY,CAAC,yBAAyB,eAAe,YAAY,CAAC,+BAA+B,EAAE,CAAC;IAjC7J,oBAAY,eAuGxB,CAAA;IAED,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC1B,SAAS,EAAE,OAAO,CAAC,YAAY;QAC/B,gBAAgB,EAAE,YAAY;QAC9B,SAAS,EAAE,cAAc;QACzB,OAAO,EAAE,gBAAgB;KAC5B,CAAC,CAAC;AACP,CAAC,EAnHS,OAAO,KAAP,OAAO,QAmHhB;ACnHD,IAAU,OAAO,CAuHhB;AAvHD,WAAU,OAAO;IAEb,MAAa,YAAa,SAAQ,QAAA,YAAY;QAU1C,YAAY,QAA+B;YACvC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAEhB,IAAI,CAAC,gBAAgB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAgC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;YAC3G,IAAI,CAAC,WAAW,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAgC,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;QACrG,CAAC;QAES,kBAAkB,CAAC,gBAAwC;YACjE,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;YAE3C,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,OAAO,CAAc,YAAY,CAAC,CAAC,OAAO,CAAC;YACpF,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,OAAO,CAAc,SAAS,CAAC,CAAC,OAAO,CAAC;YAE9E,IAAI,CAAC,UAAU,GAAG,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;YACxC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;YAE5D,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;YAE5B,IAAI,WAAW,GAAG,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC;YACzC,WAAW,CAAC,MAAM,GAAG,YAAY,CAAC;YAClC,WAAW,CAAC,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC;YAC/C,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAChE,WAAW,CAAC,OAAO,GAAG,2DAA2D,CAAC;YAClF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YAEpC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,6CAA6C,CAAC,CAAC;YAC3F,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,KAAK,CAAC;YACrC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;YAE/D,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAChC,CAAC;QAEO,oBAAoB,CAAC,MAAkB;YAC3C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAgB,CAAC,CAAC;YAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;QACpC,CAAC;QAEO,mBAAmB,CAAC,CAAe,EAAE,CAAkB;YAC3D,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,IAAI,QAAQ,GAAG,IAAI,KAAK,CAAC,cAAc,CAAC,YAAY,EAAE,yBAAyB,EAAE,KAAK,CAAC,qBAAqB,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,EAAE;oBAC3H,IAAI,MAAM,EAAE;wBACR,IAAI,CAAC,SAAS,EAAE,CAAC;qBACpB;gBACL,CAAC,CAAC,CAAC;gBACH,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,CAAC;aACpD;YACD,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC/B,CAAC;QAEO,qBAAqB;YACzB,IAAI,OAAO,IAAI,CAAC,yBAAyB,KAAK,UAAU,EAAE;gBACtD,IAAI,UAAU,GAAG,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBAClD,IAAI,OAAO,UAAU,CAAC,MAAM,CAAC,KAAK,UAAU,EAAE;oBAE1C,UAAU;yBACL,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;wBACf,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,GAAG,CAAC;wBAC3B,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,KAAK,CAAC;wBACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAA;wBAC1B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;oBAC/B,CAAC,CAAC;yBACD,KAAK,CAAC,CAAC,GAAW,EAAE,EAAE;wBACnB,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC,oBAAoB,EAAE,GAAG,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,CAAC;oBAClG,CAAC,CAAC,CAAC;iBACV;qBAAM;oBACH,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,UAAU,CAAC;oBAClC,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,KAAK,CAAC;oBACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAA;oBAC1B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;iBAC9B;aACJ;QACL,CAAC;QAEM,oBAAoB,CAAC,CAAY;YACpC,IAAI,CAAC,yBAAyB,GAAG,CAAC,CAAC;QACvC,CAAC;QAED,IAAW,UAAU;YACjB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;QAChC,CAAC;QACD,IAAW,UAAU,CAAC,CAAM;YACxB,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC9B,CAAC;QAED,IAAW,aAAa;YACpB,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;QAEM,SAAS;YACZ,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACjC,CAAC;KAKJ;IA7GY,oBAAY,eA6GxB,CAAA;IAED,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC1B,SAAS,EAAE,OAAO,CAAC,YAAY;QAC/B,gBAAgB,EAAE,YAAY;QAC9B,SAAS,EAAE,cAAc;QACzB,OAAO,EAAE,gBAAgB;KAC5B,CAAC,CAAC;AACP,CAAC,EAvHS,OAAO,KAAP,OAAO,QAuHhB;ACxHD,IAAU,OAAO,CAgchB;AAhcD,WAAU,OAAO;IAEb,MAAa,OAAQ,SAAQ,KAAK,CAAC,IAAI;QAoEnC,YACI,kBAA4C,EAC5C,QAA+B;YAC/B,KAAK,CAAC,QAAQ,IAAI,OAAO,CAAC,sBAAsB,CAAC,CAAC;YAT9C,iBAAY,GAAG;gBACnB,sBAAsB,EAAoB,IAAI;gBAC9C,iBAAiB,EAAoB,IAAI;gBACzC,SAAS,EAAoB,IAAI;aACpC,CAAC;YAOE,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;YAC9C,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,IAAI,CAAC,CAAC;YACzG,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;YAE9F,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACrC,CAAC;QAES,kBAAkB,CAAC,gBAAwC;YACjE,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;YAE3C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,EAC9B;;;;;eAKD,CAAC,CAAC;YAEL,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,EAC9B;;;;;eAKD,CAAC,CAAC;YAEL,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,EAC9B;;;;;eAKD,CAAC,CAAC;YAEL,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,EAAE,uFAAuF,CAAC,CAAC;YAE1H,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,OAAO,CAAc,SAAS,CAAC,CAAC,OAAO,CAAC;YAC9E,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,OAAO,CAAc,YAAY,CAAC,CAAC,OAAO,CAAC;YACpF,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,OAAO,CAAc,YAAY,CAAC,CAAC,OAAO,CAAC;YACpF,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,eAAe,CAAc,YAAY,EAAE,CAAC,OAAO,EAAE,EAAE;gBAC5F,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC;YACxC,CAAC,CAAC,CAAC;YACZ,IAAI,CAAC,mBAAmB,GAAG,gBAAgB,CAAC,eAAe,CAAc,eAAe,EAAE,CAAC,OAAO,EAAE,EAAE;gBACzF,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;YACrC,CAAC,CAAC,CAAC;QACP,CAAC;QAEO,oBAAoB;YAExB,IAAI,CAAC,WAAW,GAAG,IAAI,QAAA,UAAU,EAAE,CAAC;YACpC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,SAAS,CAAC;YAGpC,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YAEhC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;YACnF,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;YAG7D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;YACnF,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;YAG7D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;YACnF,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;YAE7D,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;YAEhC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;YAC9E,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,EAAE,uBAAuB,CAAC,CAAC;YACtF,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;YAE1D,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAChE,CAAC;QAEO,yBAAyB;YAC7B,IAAI,CAAC,gBAAgB,GAAG,IAAI,QAAA,eAAe,EAAE,CAAC;YAC9C,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACjE,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACrC,CAAC;QAEO,sBAAsB;YAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,QAAA,YAAY,EAAE,CAAC;YACrC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,GAAG,+DAA+D,CAAC;YACjG,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAC7E,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBACrC,YAAY,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,aAAa,cAAc,CAAC,CAAC;YACpE,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;QACnD,CAAC;QAEO,sBAAsB;YAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,QAAA,YAAY,EAAE,CAAC;YACrC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,GAAG,gEAAgE,CAAC;YAClG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;YACjF,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;YACpD,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,yBAAyB,CAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC9G,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;QACnD,CAAC;QAEO,yBAAyB;YAC7B,IAAI,CAAC,aAAa,GAAG,IAAI,QAAA,eAAe,EAAE,CAAC;YAC3C,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,GAAG,kEAAkE,CAAC;YACvG,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,GAAG,CAAC,IAAI,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;YACvF,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;YACjF,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;QACtD,CAAC;QAIO,yBAAyB,CAAC,CAAoB,EAAE,CAAkB;YACtE,IAAI,CAAC,CAAC,YAAY,KAAK,YAAY,EAAE;gBACnB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBAC1E,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;gBAChG,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC;gBAClC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;aACvD;iBACI;gBACa,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;gBAClF,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBACxF,IAAI,CAAC,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC;gBACjC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;aACxD;QACL,CAAC;QAEO,yBAAyB,CAAC,CAAe,EAAE,CAAkB;YACjE,IAAI,QAAQ,GAAG,IAAI,KAAK,CAAC,cAAc,CAAC,YAAY,EAAE,yBAAyB,EAAE,KAAK,CAAC,qBAAqB,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,EAAE;gBAC3H,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,OAAO,CAAC,iBAAiB,CAAC;oBACjD,YAAY,CAAC,UAAU,CAAC,GAAG,OAAO,CAAC,aAAa,cAAc,CAAC,CAAC;iBACnE;YACL,CAAC,CAAC,CAAC;YACH,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,CAAC;QACrD,CAAC;QAEO,4BAA4B,CAAC,CAAkB,EAAE,CAAkB;YACvE,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;gBAC/B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;gBACrD,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC7B;QACL,CAAC;QAEO,yBAAyB,CAAC,CAAkB,EAAE,CAAkB;YACpE,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;gBAE/B,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,EAAE,qBAAqB,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,WAAW,CAAC,CAAC;aACvG;QACL,CAAC;QAEO,KAAK,CAAC,KAAU;YACpB,IAAI,KAAK,YAAY,IAAI,CAAC,UAAU,EAAE;gBAClC,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;gBAC5B,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;aACrC;iBACI,IAAI,KAAK,YAAY,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;gBAC1D,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;aAC5C;iBACI;gBACD,OAAO,KAAK,CAAC;aAChB;QACL,CAAC;QAEO,SAAS,CAAC,MAAwB;YACtC,QAAQ,MAAM,EAAE;gBACZ,KAAK,QAAA,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBAC3B,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;oBACnC,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;oBACpC,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;oBACpC,MAAM;iBACT;gBACD,KAAK,QAAA,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBAC3B,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;oBACpC,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;oBACnC,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;oBACpC,MAAM;iBACT;gBACD,KAAK,QAAA,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBAC3B,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;oBACpC,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAC;oBACpC,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC;oBACnC,MAAM;iBACT;gBACD,OAAO,CAAC,CAAC;oBACL,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;iBAC1C;aACJ;YACD,IAAI,CAAC,gBAAgB,CAAC,UAAU,GAAG,MAAM,CAAC;QAC9C,CAAC;QAEO,oBAAoB;YAExB,IAAI,WAAW,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,gBAAgB,CAAC,CAAC;YACjF,IAAI,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,eAAe,CAAC,CAAC;YAC/E,IAAI,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,cAAc,CAAC,CAAC;YAC7E,IAAI,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,cAAc,CAAC,CAAC;YAE7E,IAAI,WAAW,EAAE;gBACb,IAAI,CAAC,SAAS,CAAC,QAAA,gBAAgB,CAAC,WAA4C,CAAC,CAAC,CAAA;aACjF;iBAAM;gBACH,IAAI,CAAC,SAAS,CAAC,QAAA,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;YAED,IAAI,UAAU,EAAE;gBACZ,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;aACxD;YAED,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,SAAS,CAAC;aACpC;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,OAAO,CAAC,iBAAiB,CAAC;aACpD;YAED,IAAI,SAAS,EAAE;gBACX,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACjC,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;aAC/B;QACL,CAAC;QAEO,kBAAkB;YAEtB,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,gBAAgB,EAAE,QAAA,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,CAAC;YACnH,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,eAAe,EAAE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YAEjH,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAEnF,IAAI,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE;gBAC/B,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,aAAa,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;aAC5G;QACL,CAAC;QAEO,sBAAsB;YAC1B,OAAO,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC;QAC5D,CAAC;QAEO,UAAU,CAAC,MAAW;YAEnC,IAAI,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE;gBAWrC,MAAM,GAAG,GAA0B,EAAE,CAAC;gBACtC,KAAK,MAAM,QAAQ,IAAI,MAAM,EAAE;oBAC9B,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,GAAG,EAAE,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC;iBAC9C;gBACD,MAAM,GAAG,GAAG,CAAC;aACb;iBACI,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;gBACnC,MAAM,GAAI,MAAc,CAAC,OAAO,EAAE,CAAC;aACnC;YAEQ,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,MAAM,CAAC;QACjD,CAAC;QAEa,gBAAgB,CAAC,GAAW;YAChC,OAAO,IAAI,OAAO,CACd,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;gBAChB,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;gBAC/B,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE;oBACf,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACtC,CAAC,CAAC;gBACF,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9D,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;gBACrB,GAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;gBACzD,GAAG,CAAC,IAAI,EAAE,CAAC;YACf,CAAC,CACJ,CAAC;QACN,CAAC;QAEO,gBAAgB,CAAI,KAAe;YACvC,IAAG,CAAC,KAAK;gBAAE,OAAO,IAAI,CAAC;YACvB,OAAO,KAAK,CAAC,KAAK,CAAC,MAAM,GAAE,CAAC,CAAC,CAAC;QAClC,CAAC;QAEO,gBAAgB;YACN,QAAQ,CAAC,aAAa,CAAC,yBAAyB,CAAE,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,KAAK,CAAC;YACrJ,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAE,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,KAAK,CAAC;YAC3I,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAE,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,KAAK,CAAC;QAC7I,CAAC;QAEO,gBAAgB,CAAC,CAAe,EAAE,CAAkB;YAExD,IAAI,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC;YAC3B,CAAC,CAAC,UAAU,EAAE,CAAC;YACf,CAAC,CAAC,aAAa,EAAE,CAAC;YAElB,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YAChC,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG;gBACpC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAE3C,IAAI,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAM,EAAE,SAAS,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC;YACxD,IAAI,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YAEtE,IAAI,MAAW,CAAC;YAEhB,IAAI;gBACA,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAChB,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC9B,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC3B;YACD,OAAO,GAAG,EAAE;gBACR,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBACxB,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;aAC3D;YAED,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;YACxB,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAExB,CAAC,CAAC,OAAO,CAAC,yBAAyB,EAAE,OAAO,EAAE,eAAe,CAAC,CAAC;YAC/D,CAAC,CAAC,OAAO,CAAC,oBAAoB,EAAE,eAAe,EAAE,eAAe,CAAC,CAAC;YAClE,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE,OAAO,EAAE,eAAe,CAAC,CAAC;YAElD,IAAI,CAAC,YAAY,CAAC,sBAAsB,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,CAAC,CAAC;YAChH,IAAI,CAAC,YAAY,CAAC,iBAAiB,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAC,CAAC;YACtG,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC;YAEtF,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAExB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC;QAEO,mBAAmB,CAAC,CAAe,EAAE,CAAkB;YAC3D,IAAI,CAAC,KAAK,IAAI,CAAC,WAAW,EAAE;gBACxB,IAAI,CAAC,SAAS,CAAC,QAAA,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBACI,IAAI,CAAC,KAAK,IAAI,CAAC,WAAW,EAAE;gBAC7B,IAAI,CAAC,SAAS,CAAC,QAAA,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;iBACI,IAAI,CAAC,KAAK,IAAI,CAAC,WAAW,EAAE;gBAC7B,IAAI,CAAC,SAAS,CAAC,QAAA,gBAAgB,CAAC,OAAO,CAAC,CAAC;aAC5C;YACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC;QAEO,kBAAkB,CAAC,CAAe,EAAE,CAAkB;YAC1D,IAAI,CAAC,CAAC,UAAU,EAAE;gBACd,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;aAClD;iBACI;gBACD,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;aAC1D;YACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC;;IAnbyB,4BAAoB,GAAG;;;;;;;;;;;MAWnD,CAAC;IAE2B,kCAA0B,GAAG;;;;;;;;;;;gBAW/C,CAAC;IAEe,8BAAsB,GAAG,YAAY,OAAO,CAAC,oBAAoB,eAAe,OAAO,CAAC,0BAA0B,EAAE,CAAC;IAErH,yBAAiB,GAAG;;;;;;;;;OAS7C,CAAC;IAEwB,qBAAa,GAAG,WAAW,CAAC;IAzC3C,eAAO,UAsbnB,CAAA;IAED,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC1B,SAAS,EAAE,KAAK,CAAC,IAAI;QACrB,gBAAgB,EAAE,OAAO;QACzB,SAAS,EAAE,SAAS;QACpB,OAAO,EAAE,UAAU;KACtB,CAAC,CAAC;AACP,CAAC,EAhcS,OAAO,KAAP,OAAO,QAgchB;AChcD,IAAU,OAAO,CAyHhB;AAzHD,WAAU,OAAO;IAEb,IAAY,gBAIX;IAJD,WAAY,gBAAgB;QACxB,6DAAO,CAAA;QACP,6DAAO,CAAA;QACP,6DAAO,CAAA;IACX,CAAC,EAJW,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QAI3B;IAED,MAAa,eAAgB,SAAQ,KAAK,CAAC,SAAS;QA6BhD,YAAY,QAA+B;YACvC,KAAK,CAAC,QAAQ,IAAI,eAAe,CAAC,8BAA8B,CAAC,CAAC;QACtE,CAAC;QAES,kBAAkB,CAAC,gBAAwC;YACjE,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;YAE3C,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,OAAO,CAAc,YAAY,CAAC,CAAC,OAAO,CAAC;YACpF,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC,OAAO,CAAc,QAAQ,CAAC,CAAC,OAAO,CAAC;YAC5E,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC,OAAO,CAAc,QAAQ,CAAC,CAAC,OAAO,CAAC;YAC5E,IAAI,CAAC,YAAY,GAAG,gBAAgB,CAAC,OAAO,CAAc,QAAQ,CAAC,CAAC,OAAO,CAAC;YAE5E,IAAI,CAAC,UAAU,GAAG,gBAAgB,CAAC,OAAO,CAAA;QAC9C,CAAC;QAEO,mBAAmB;YACvB,QAAQ,IAAI,CAAC,WAAW,EAAE;gBACtB,KAAK,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBAC3B,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBAChD,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;oBAC/D,MAAM;iBACT;gBACD,KAAK,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBAC3B,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBAChD,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;oBAC/D,MAAM;iBACT;gBACD,KAAK,gBAAgB,CAAC,OAAO,CAAC,CAAC;oBAC3B,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBAChD,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;oBAC/D,MAAM;iBACT;aACJ;QACL,CAAC;QAED,IAAW,MAAM;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QACD,IAAW,MAAM,CAAC,CAAe;YAC7B,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;gBACpB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,EAAE,CAAC;gBACjC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;aAC3D;QACL,CAAC;QAED,IAAW,MAAM;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QACD,IAAW,MAAM,CAAC,CAAe;YAC7B,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;gBACpB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,EAAE,CAAC;gBACjC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;aAC3D;QACL,CAAC;QAED,IAAW,MAAM;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QACD,IAAW,MAAM,CAAC,CAAe;YAC7B,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;gBACpB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,EAAE,CAAC;gBACjC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;aAC3D;QACL,CAAC;QAED,IAAW,UAAU;YACjB,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;QACD,IAAW,UAAU,CAAC,CAAmB;YACrC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACrB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC/B,CAAC;;IArGyB,4CAA4B,GAAG;;;;MAI3D,CAAC;IAE2B,kDAAkC,GAAG;;;;;;;gBAOvD,CAAC;IAEe,8CAA8B,GAAG,YAAY,eAAe,CAAC,4BAA4B,eAAe,eAAe,CAAC,kCAAkC,EAAE,CAAC;IAjB5K,uBAAe,kBAwG3B,CAAA;IAGD,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC1B,SAAS,EAAE,KAAK,CAAC,SAAS;QAC1B,gBAAgB,EAAE,eAAe;QACjC,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,mBAAmB;KAC/B,CAAC,CAAC;AACP,CAAC,EAzHS,OAAO,KAAP,OAAO,QAyHhB;ACzHD,IAAU,OAAO,CA8EhB;AA9ED,WAAU,OAAO;IAEb,MAAa,eAAgB,SAAQ,QAAA,YAAY;QAW7C,YAAY,QAA+B;YACvC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAChB,IAAI,CAAC,aAAa,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAmC,IAAI,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;YACxG,IAAI,CAAC,sBAAsB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAmC,IAAI,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;YAC1H,IAAI,CAAC,mBAAmB,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAmC,IAAI,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;QACxH,CAAC;QAES,kBAAkB,CAAC,gBAAwC;YACjE,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;YAE3C,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,OAAO,CAAc,YAAY,CAAC,CAAC,OAAO,CAAC;YACpF,IAAI,CAAC,aAAa,GAAG,gBAAgB,CAAC,OAAO,CAAc,SAAS,CAAC,CAAC,OAAO,CAAC;YAE9E,IAAI,CAAC,UAAU,GAAG,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;YACxC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;YAE5D,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;YAE5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,mDAAmD,CAAC,CAAC;YACnG,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,KAAK,CAAC;YACvC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;gBACtC,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,CAAC;YAET,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,qDAAqD,CAAC,CAAC;YACzG,IAAI,CAAC,mBAAmB,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,CAAC;YAE5F,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,sDAAsD,CAAC,CAAC;YACvG,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,KAAK,CAAC;YACxC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,CAAC;YAEtF,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAChC,CAAC;QAMD,IAAW,UAAU;YACjB,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;QAChC,CAAC;QACD,IAAW,UAAU,CAAC,CAAM;YAExB,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,mBAAmB,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1C,CAAC;QAEM,SAAS;YACZ,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,KAAK,CAAC;YACvC,IAAI,CAAC,mBAAmB,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3C,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,KAAK,CAAC;QAC5C,CAAC;KACJ;IApEY,uBAAe,kBAoE3B,CAAA;IAED,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC1B,SAAS,EAAE,OAAO,CAAC,YAAY;QAC/B,gBAAgB,EAAE,eAAe;QACjC,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,mBAAmB;KAC/B,CAAC,CAAC;AACP,CAAC,EA9ES,OAAO,KAAP,OAAO,QA8EhB;AC9ED,IAAU,OAAO,CAkFhB;AAlFD,WAAU,OAAO;IAEb,MAAa,UAAW,SAAQ,KAAK,CAAC,OAAO;QAiEzC,YAAY,QAA+B;YACvC,KAAK,CAAC,QAAQ,IAAI,UAAU,CAAC,yBAAyB,CAAC,CAAC;QAC5D,CAAC;QAES,kBAAkB,CAAC,gBAAwC;YACjE,KAAK,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,CAAC;QAC/C,CAAC;;IArEyB,kCAAuB,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA4CpD,CAAC;IAEyB,wCAA6B,GAAG;;;;;;;;;;;;;YAatD,CAAC;IAEmB,oCAAyB,GAAG,YAAY,UAAU,CAAC,uBAAuB,eAAe,UAAU,CAAC,6BAA6B,EAAE,CAAC;IA/DnJ,kBAAU,aAwEtB,CAAA;IAED,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC1B,SAAS,EAAE,KAAK,CAAC,OAAO;QACxB,gBAAgB,EAAE,UAAU;QAC5B,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,aAAa;KACzB,CAAC,CAAC;AACP,CAAC,EAlFS,OAAO,KAAP,OAAO,QAkFhB;AChFD,IAAU,OAAO,CAoChB;AApCD,WAAU,OAAO;IAEb,IAAO,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;IAE7B,eAAO,GAAG,OAAO,CAAC;IAE5B,MAAa,UAAW,SAAQ,WAAW;QAIvC;YACI,KAAK,EAAE,CAAC;QACZ,CAAC;QAES,UAAU;YAChB,KAAK,CAAC,UAAU,EAAE,CAAC;QAOvB,CAAC;QAEM,GAAG;YACN,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;gBACjB,OAAO;oBACH,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,QAAA,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC;oBACvD,QAAQ,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI;oBAC5C,YAAY,EAAE,GAAG,EAAE,CAAC,YAAY;oBAChC,YAAY,EAAE,GAAG,EAAE,CAAC,EAAE;iBACV,CAAC;YACN,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,GAAG,EAAE,CAAC;QAChB,CAAC;KACJ;IA7BY,kBAAU,aA6BtB,CAAA;AACL,CAAC,EApCS,OAAO,KAAP,OAAO,QAoChB","sourcesContent":["\r\nnamespace TryLinq {\r\n\r\n    export class AppToolPanel extends Juice.UIElement {\r\n\r\n        protected static readonly DefaultAppToolPanelStyles = `\r\n    .app-tool-panel {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n    }\r\n\r\n    .app-tool-panel-content {\r\n        flex-grow: 1;\r\n        overflow: auto;\r\n    }`;\r\n\r\n        protected static readonly DefaultAppToolPanelHtmlTemplate = `\r\n    <template template-class=\"AppToolPanel\">\r\n        <div template-part=\"layoutRoot\" class=\"app-tool-panel\">\r\n            <div template-part=\"toolbar\" class=\"app-tool-panel-toolbar\"></div>\r\n            <div template-part=\"content\" class=\"app-tool-panel-content\"></div>\r\n        </div>\r\n    </template>`;\r\n\r\n        private static readonly DefaultAppToolPanelTemplate = `<style>\\n${AppToolPanel.DefaultAppToolPanelStyles}\\n</style>\\n${AppToolPanel.DefaultAppToolPanelHtmlTemplate}`;\r\n\r\n        private _part_toolbar: HTMLElement;\r\n\r\n        private _toolbar: Juice.Toolbar;\r\n\r\n        constructor(template?: Juice.TemplateSource) {\r\n            super(template || AppToolPanel.DefaultAppToolPanelTemplate);\r\n        }\r\n\r\n        protected initializeTemplate(templatedElement: Juice.TemplatedElement) {\r\n            super.initializeTemplate(templatedElement);\r\n\r\n            this._part_toolbar = templatedElement.getPart<HTMLElement>(\"toolbar\").element;\r\n            this._toolbar = new Juice.Toolbar();\r\n            this._toolbar.appendToHtmlElement(this._part_toolbar);\r\n        }\r\n\r\n        public get toolbar(): Juice.Toolbar {\r\n            return this._toolbar;\r\n        }\r\n    }\r\n\r\n    Juice.Builder.defineComponent({\r\n        baseClass: Juice.UIElement,\r\n        classConstructor: AppToolPanel,\r\n        className: \"AppToolPanel\",\r\n        tagName: \"app-tool-panel\"\r\n    });\r\n}","/// <reference path=\"AppToolPanel.ts\" />\r\n\r\nnamespace TryLinq {\r\n\r\n    declare var ace: any;\r\n\r\n    export class AppCodePanel extends AppToolPanel {\r\n\r\n        // TODO inherit and manipulate template\r\n        protected static readonly DefaultAppCodePanelStyles = `${AppToolPanel.DefaultAppToolPanelStyles}\\n\r\n    .app-code-panel-footer {\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n    \r\n    .app-code-panel-footer-info {\r\n        width: auto;\r\n        flex-grow: 1;\r\n    }`;\r\n\r\n        protected static readonly DefaultAppCodePanelHtmlTemplate = `\r\n    <template template-class=\"AppCodePanel\">\r\n        <div template-part=\"layoutRoot\" class=\"app-tool-panel\">\r\n            <div template-part=\"toolbar\" class=\"app-tool-panel-toolbar\"></div>\r\n            <div template-part=\"content\" class=\"app-tool-panel-content\"></div>\r\n            <div template-part=\"footer\" class=\"app-code-panel-footer\">\r\n                <div class=\"app-code-panel-footer-info\">\r\n                    <span>\r\n                        <span style=\"display: inline-block; margin-right: 10px;\">Construction &nbsp;<b id=\"enumerableConstruction\">0 ms</b></span>\r\n                        <span style=\"display: inline-block; margin-right: 10px;\">Reading &nbsp;<b id=\"enumerableReading\">0 ms</b></span>\r\n                        <span style=\"display: inline-block; margin-right: 10px;\">Total time: &nbsp;<b id=\"totalTime\">0 ms</b></span>\r\n                    </span>\r\n                </div>\r\n                <div template-part=\"buttonsContainer\" class=\"app-code-panel-footer-butttons\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </template>`;\r\n\r\n        private static readonly DefaultAppCodePanelTemplate = `<style>\\n${AppCodePanel.DefaultAppCodePanelStyles}\\n</style>\\n${AppCodePanel.DefaultAppCodePanelHtmlTemplate}`;\r\n\r\n        private _part_layoutRoot: HTMLElement;\r\n        private _part_content: HTMLElement;\r\n        private _part_footer: HTMLElement;\r\n        private _part_buttonsContainer: HTMLElement;\r\n\r\n        private _editor: any;\r\n        private _btnRun: Juice.Button;\r\n\r\n        constructor(template?: Juice.TemplateSource) {\r\n            super(template || AppCodePanel.DefaultAppCodePanelTemplate);\r\n\r\n            //CssLoader.from(AppCodePanel.DefaultAppCodePanelStyles + \" \");\r\n            this.onUserCodeLoaded = new Juice.EventSet<AppCodePanel, Juice.EventArgs>(this.events, \"onUserCodeLoaded\");\r\n            this.onButtonResetCodeClick = new Juice.EventSet<AppCodePanel, Juice.EventArgs>(this.events, \"onButtonResetCodeClick\");\r\n            this.onButtonRunClick = new Juice.EventSet<AppCodePanel, Juice.EventArgs>(this.events, \"onButtonRunClick\");\r\n        }\r\n\r\n        protected initializeTemplate(templatedElement: Juice.TemplatedElement) {\r\n            super.initializeTemplate(templatedElement);\r\n\r\n            this._part_layoutRoot = templatedElement.getPart<HTMLElement>(\"layoutRoot\").element;\r\n            this._part_content = templatedElement.getPart<HTMLElement>(\"content\").element;\r\n            this._part_footer = templatedElement.getPart<HTMLElement>(\"footer\").element;\r\n            this._part_buttonsContainer = templatedElement.getPart<HTMLElement>(\"buttonsContainer\").element;\r\n\r\n            this._btnRun = new Juice.Button();\r\n            this._btnRun.content = \"Run\";\r\n            this._btnRun.onClick.add((s, e) => this.events.trigger(\"onButtonRunClick\"), this);\r\n            this._btnRun.appendToHtmlElement(this._part_buttonsContainer);\r\n\r\n            this._editor = ace.edit(this._part_content);\r\n            //this._editor.setTheme(\"ace/theme/monokai\");\r\n            this._editor.session.setMode(\"ace/mode/javascript\");\r\n\r\n            this.toolbar.addSeparator();\r\n\r\n            let btnLoadCode = new Juice.FileButton();\r\n            btnLoadCode.accept = \".js,.txt\";\r\n            btnLoadCode.readType = Juice.FileReadType.Text;\r\n            btnLoadCode.readerHandler(reader => {\r\n                this.code = reader.result as string;\r\n                this.onUserCodeLoaded.trigger();\r\n            });\r\n            btnLoadCode.content = `<i class=\"fas fa-file-download\"></i>&nbsp;&nbsp;load code`;\r\n            this.toolbar.items.add(btnLoadCode);\r\n\r\n            let btnResetCode = this.toolbar.addButton(`<i class=\"fas fa-poo\"></i>&nbsp;&nbsp;reset`);\r\n            btnResetCode.onClick.add(() => this.onButtonResetCodeClick.trigger());\r\n\r\n            this.toolbar.addSeparator();\r\n        }\r\n\r\n        public get code(): string {\r\n            return (this._editor.getValue() as string).trim();\r\n        }\r\n        public set code(text: string) {\r\n            this._editor.setValue(text);\r\n        }\r\n\r\n        public setEditorTheme(themePath: string) {\r\n            this._editor.setTheme(themePath);\r\n        }\r\n\r\n        public onUserCodeLoaded: Juice.EventSet<AppCodePanel, Juice.EventArgs>;\r\n\r\n        public onButtonResetCodeClick: Juice.EventSet<AppCodePanel, Juice.EventArgs>;\r\n\r\n        public onButtonRunClick: Juice.EventSet<AppCodePanel, Juice.EventArgs>;\r\n    }\r\n\r\n    Juice.Builder.defineComponent({\r\n        baseClass: TryLinq.AppToolPanel,\r\n        classConstructor: AppCodePanel,\r\n        className: \"AppCodePanel\",\r\n        tagName: \"app-code-panel\"\r\n    });\r\n}","/// <reference path=\"AppToolPanel.ts\" />\r\n\r\nnamespace TryLinq {\r\n\r\n    export class AppDataPanel extends AppToolPanel {\r\n\r\n        private _part_layoutRoot: HTMLElement;\r\n        private _part_content: HTMLElement;\r\n\r\n        private _tableView: Juice.TableView;\r\n        private _btnResetData: Juice.Button;\r\n        private _defaultSourceDataHandler: () => any;\r\n        private _isCustomData: boolean;\r\n\r\n        constructor(template?: Juice.TemplateSource) {\r\n            super(template);\r\n\r\n            this.onUserDataLoaded = new Juice.EventSet<AppDataPanel, Juice.EventArgs>(this.events, \"onUserDataLoaded\");\r\n            this.onResetData = new Juice.EventSet<AppDataPanel, Juice.EventArgs>(this.events, \"onResetData\");\r\n        }\r\n\r\n        protected initializeTemplate(templatedElement: Juice.TemplatedElement) {\r\n            super.initializeTemplate(templatedElement);\r\n\r\n            this._part_layoutRoot = templatedElement.getPart<HTMLElement>(\"layoutRoot\").element;\r\n            this._part_content = templatedElement.getPart<HTMLElement>(\"content\").element;\r\n\r\n            this._tableView = new Juice.TableView();\r\n            this._part_content.appendChild(this._tableView.htmlElement);\r\n\r\n            this.toolbar.addSeparator();\r\n\r\n            let btnLoadData = new Juice.FileButton();\r\n            btnLoadData.accept = \".json,.txt\";\r\n            btnLoadData.readType = Juice.FileReadType.Text;\r\n            btnLoadData.readerHandler(this.btnLoadReaderHandler.bind(this));\r\n            btnLoadData.content = `<i class=\"fas fa-file-download\"></i>&nbsp;&nbsp;load data`;\r\n            this.toolbar.items.add(btnLoadData);\r\n\r\n            this._btnResetData = this.toolbar.addButton(`<i class=\"fas fa-poo\"></i>&nbsp;&nbsp;reset`);\r\n            this._btnResetData.isEnabled = false;\r\n            this._btnResetData.onClick.add(this.onBtnResetDataClick, this);\r\n\r\n            this.toolbar.addSeparator();\r\n        }\r\n\r\n        private btnLoadReaderHandler(reader: FileReader) {\r\n            let data = JSON.parse(reader.result as string);\r\n            this.customData = data;\r\n            this.onUserDataLoaded.trigger();\r\n        }\r\n\r\n        private onBtnResetDataClick(s: Juice.Button, e: Juice.EventArgs) {\r\n            if (this._isCustomData) {\r\n                var question = new Juice.QuestionDialog(\"Reset data\", \"Reset data to default ?\", Juice.QuestionDialogButtons.YesNo, (result) => {\r\n                    if (result) {\r\n                        this.resetData();\r\n                    }\r\n                });\r\n                question.show(this.getApplication().rootElement);\r\n            }\r\n            this.onResetData.trigger();\r\n        }\r\n\r\n        private loadDefaultSourceData() {\r\n            if (typeof this._defaultSourceDataHandler === \"function\") {\r\n                let funcResult = this._defaultSourceDataHandler();\r\n                if (typeof funcResult[\"then\"] === \"function\") {\r\n                    // Promise\r\n                    funcResult\r\n                        .then((res: any) => {\r\n                            this._tableView.data = res;\r\n                            this._btnResetData.isEnabled = false;\r\n                            this._isCustomData = false\r\n                            this.onResetData.trigger();\r\n                        })\r\n                        .catch((err: string) => {\r\n                            Juice.MessageDialog.showMessage(\"Reset default data\", err, this.getApplication().rootElement);\r\n                        });\r\n                } else {\r\n                    this._tableView.data = funcResult;\r\n                    this._btnResetData.isEnabled = false;\r\n                    this._isCustomData = false\r\n                    this.onResetData.trigger();\r\n                }\r\n            }\r\n        }\r\n\r\n        public setDefaultSourceData(v: () => any) {\r\n            this._defaultSourceDataHandler = v;\r\n        }\r\n\r\n        public get customData(): any {\r\n            return this._tableView.data;\r\n        }\r\n        public set customData(v: any) {\r\n            this._tableView.data = v;\r\n            this._btnResetData.isEnabled = !!v;\r\n            this._isCustomData = true;\r\n        }\r\n\r\n        public get hasCustomData() {\r\n            return this._isCustomData;\r\n        }\r\n\r\n        public resetData() {\r\n            this._tableView.clear();\r\n            this.loadDefaultSourceData();\r\n        }\r\n\r\n        public onUserDataLoaded: Juice.EventSet<AppDataPanel, Juice.EventArgs>;\r\n\r\n        public onResetData: Juice.EventSet<AppDataPanel, Juice.EventArgs>;\r\n    }\r\n\r\n    Juice.Builder.defineComponent({\r\n        baseClass: TryLinq.AppToolPanel,\r\n        classConstructor: AppDataPanel,\r\n        className: \"AppDataPanel\",\r\n        tagName: \"app-data-panel\"\r\n    });\r\n}","\r\nnamespace TryLinq {\r\n\r\n    export class AppPage extends Juice.Page {\r\n\r\n        protected static readonly DefaultAppPageStyles = `\r\n\r\n    .app-page {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n    }\r\n\r\n    .app-page-content {\r\n        flex-grow: 1;\r\n        overflow: hidden;\r\n    }`;\r\n\r\n        protected static readonly DefaultAppPageHtmlTemplate = `\r\n    <template template-class=\"AppPage\">\r\n        <div template-part=\"appRoot\" class=\"app-page\">\r\n            <div template-part=\"appToolbar\" class=\"app-page-toolbar\"></div>\r\n            <div template-part=\"appContent\" class=\"app-page-content\"></div>\r\n            <div class=\"app-page-footer\">\r\n\t\t\t\t<span>try-linq v. <span template-part=\"appVersion\"></span></span>\r\n\t\t\t\t<span>&nbsp;&nbsp;-&nbsp;&nbsp;</span>\r\n                <span>linq-g v. <span template-part=\"engineVersion\"></span></span>\r\n            </div>\r\n        </div>\r\n    </template>`;\r\n\r\n        private static readonly DefaultAppPageTemplate = `<style>\\n${AppPage.DefaultAppPageStyles}\\n</style>\\n${AppPage.DefaultAppPageHtmlTemplate}`;\r\n\r\n        private static readonly DefaultEditorCode = `data\r\n    .where(x => x.state === \"LA\" && /@gmail?/.test(x.email))\r\n    .select(x => {\r\n        return {\r\n            first_name: x.first_name,\r\n            last_name: x.last_name,\r\n            email: x.email,\r\n            state: x.state\r\n        };\r\n    })`;\r\n\r\n        private static readonly StoragePrefix = \"try-linq:\";\r\n\r\n        private _applicationService: Juice.ApplicationService\r\n\r\n        private _part_appRoot: HTMLElement;\r\n        private _part_appToolbar: HTMLElement;\r\n        private _part_appContent: HTMLElement;\r\n        private _part_appVersion: HTMLElement;\r\n\t\tprivate _part_engineVersion: HTMLElement;\r\n\r\n        private _appToolbar: AppToolbar;\r\n        private _appPanelsLayout: AppPanelsLayout;\r\n        private _dataPanel: AppDataPanel;\r\n        private _codePanel: AppCodePanel;\r\n        private _resultsPanel: AppResultsPanel;\r\n\r\n        private _btnLayout1: Juice.Button;\r\n        private _btnLayout2: Juice.Button;\r\n        private _btnLayout3: Juice.Button;\r\n        private _btnTheme: Juice.Button;\r\n\r\n        private _performance = {\r\n            enumerableConstruction: <PerformanceEntry>null,\r\n            enumerableReading: <PerformanceEntry>null,\r\n            totalTime: <PerformanceEntry>null,\r\n        };\r\n\r\n        constructor(\r\n            applicationService: Juice.ApplicationService,\r\n            template?: Juice.TemplateSource) {\r\n            super(template || AppPage.DefaultAppPageTemplate);\r\n\r\n            this._applicationService = applicationService;\r\n            this._applicationService.application.onApplicationReady.add((s, e) => this.readFromLocalStorage(), this);\r\n            this._applicationService.application.onThemeChanged.add(this.onApplicationThemeChanged, this);\r\n\r\n            this.initializeAppToolbar();\r\n            this.initializeAppPanelsLayout();\r\n        }\r\n\r\n        protected initializeTemplate(templatedElement: Juice.TemplatedElement) {\r\n            super.initializeTemplate(templatedElement);\r\n\r\n            this.resources.set(\"icon_layout-1\",\r\n                `<svg class=\"app-toolbar-icon-svg\" style=\"vertical-align: middle;\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" baseProfile=\"full\" width=\"20\" height=\"20\" viewBox=\"0 0 20.00 20.00\" enable-background=\"new 0 0 20.00 20.00\" xml:space=\"preserve\">\r\n            <path fill-opacity=\"1\" stroke-width=\"0\" stroke-linejoin=\"round\" d=\"M 1.33317,1.33317L 18.6643,1.33317L 18.6643,18.6643L 1.33317,18.6643L 1.33317,1.33317 Z M 2.66633,2.66634L 2.66633,6.66584L 17.3312,6.66584L 17.3312,2.66634L 2.66633,2.66634 Z M 2.51821,7.999L 2.51821,11.9985L 17.3312,11.9985L 17.3312,7.999L 2.51821,7.999 Z M 2.51821,13.3317L 2.51821,17.3312L 17.3312,17.3312L 17.3312,13.3317L 2.51821,13.3317 Z \"/>\r\n            <rect x=\"2.66633\" y=\"2.66633\" fill-opacity=\"0.1\" stroke-width=\"0\" stroke-linejoin=\"round\" width=\"14.6648\" height=\"3.9995\"/>\r\n            <rect x=\"2.51821\" y=\"7.999\" fill-opacity=\"0.1\" stroke-width=\"0\" stroke-linejoin=\"round\" width=\"14.813\" height=\"3.9995\"/>\r\n            <rect x=\"2.51821\" y=\"13.3317\" fill-opacity=\"0.1\" stroke-width=\"0\" stroke-linejoin=\"round\" width=\"14.813\" height=\"3.9995\"/>\r\n        </svg>`);\r\n\r\n            this.resources.set(\"icon_layout-2\",\r\n                `<svg class=\"app-toolbar-icon-svg\" style=\"vertical-align: middle;\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" baseProfile=\"full\" width=\"20\" height=\"20\" viewBox=\"0 0 20.00 20.00\" enable-background=\"new 0 0 20.00 20.00\" xml:space=\"preserve\">\r\n            <path fill-opacity=\"1\" stroke-width=\"0\" stroke-linejoin=\"round\" d=\"M 1.33317,1.33317L 18.6643,1.33317L 18.6643,18.6643L 1.33317,18.6643L 1.33317,1.33317 Z M 9.33216,10.6653L 9.33216,17.3312L 17.3312,17.3312L 17.3312,10.6653L 9.33216,10.6653 Z M 9.33216,2.66634L 9.33216,9.33217L 17.3312,9.33217L 17.3312,2.66634L 9.33216,2.66634 Z M 2.66633,2.66634L 2.66633,17.3312L 7.999,17.3312L 7.999,2.66634L 2.66633,2.66634 Z \"/>\r\n            <rect x=\"9.33217\" y=\"10.6653\" fill-opacity=\"0.1\" stroke-width=\"0\" stroke-linejoin=\"round\" width=\"7.999\" height=\"6.66583\"/>\r\n            <rect x=\"9.33217\" y=\"2.66633\" fill-opacity=\"0.1\" stroke-width=\"0\" stroke-linejoin=\"round\" width=\"7.999\" height=\"6.66583\"/>\r\n            <rect x=\"2.66633\" y=\"2.66633\" fill-opacity=\"0.1\" stroke-width=\"0\" stroke-linejoin=\"round\" width=\"5.33267\" height=\"14.6648\"/>\r\n        </svg>`);\r\n\r\n            this.resources.set(\"icon_layout-3\",\r\n                `<svg class=\"app-toolbar-icon-svg\" style=\"vertical-align: middle;\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" baseProfile=\"full\" width=\"20\" height=\"20\" viewBox=\"0 0 20.00 20.00\" enable-background=\"new 0 0 20.00 20.00\" xml:space=\"preserve\">\r\n            <path fill-opacity=\"1\" stroke-width=\"0.32\" stroke-linejoin=\"round\" d=\"M 1.33317,1.33317L 18.6643,1.33317L 18.6643,18.6643L 1.33317,18.6643L 1.33317,1.33317 Z M 2.66633,2.66634L 2.66633,17.3312L 6.66583,17.3312L 6.66583,2.66634L 2.66633,2.66634 Z M 13.3317,2.66634L 13.3317,17.3312L 17.3312,17.3312L 17.3312,2.66634L 13.3317,2.66634 Z M 7.999,2.66634L 7.999,17.3312L 11.9985,17.3312L 11.9985,2.66634L 7.999,2.66634 Z \"/>\r\n            <rect x=\"2.66633\" y=\"2.66633\" fill-opacity=\"0.12\" stroke-width=\"0.32\" stroke-linejoin=\"round\" width=\"3.9995\" height=\"14.6648\"/>\r\n            <rect x=\"13.3317\" y=\"2.66633\" fill-opacity=\"0.12\" stroke-width=\"0.32\" stroke-linejoin=\"round\" width=\"3.9995\" height=\"14.6648\"/>\r\n            <rect x=\"7.999\" y=\"2.66633\" fill-opacity=\"0.12\" stroke-width=\"0.32\" stroke-linejoin=\"round\" width=\"3.9995\" height=\"14.6648\"/>\r\n        </svg>`);\r\n\r\n            this.resources.set(\"icon_theme\", '<i class=\"fas fa-lightbulb icon-dark\"></i><i class=\"far fa-lightbulb icon-light\"></i>');\r\n\r\n            this._part_appRoot = templatedElement.getPart<HTMLElement>(\"appRoot\").element;\r\n            this._part_appToolbar = templatedElement.getPart<HTMLElement>(\"appToolbar\").element;\r\n            this._part_appContent = templatedElement.getPart<HTMLElement>(\"appContent\").element;\r\n            this._part_appVersion = templatedElement.withPartElement<HTMLElement>(\"appVersion\", (element) => {\r\n                element.innerText = TryLinq.Version;\r\n            });\r\n\t\t\tthis._part_engineVersion = templatedElement.withPartElement<HTMLElement>(\"engineVersion\", (element) => {\r\n                element.innerText = Linq.Version;\r\n            });\r\n        }\r\n\r\n        private initializeAppToolbar() {\r\n\r\n            this._appToolbar = new AppToolbar();\r\n            this._appToolbar.header = \"TryLinq\";\r\n\r\n\r\n            this._appToolbar.addSeparator();\r\n\r\n            this._btnLayout1 = this._appToolbar.addButton(this.resources.get(\"icon_layout-1\"));\r\n            this._btnLayout1.isToggle = true;\r\n            this._btnLayout1.onClick.add(this.onButtonLayoutClick, this);\r\n\r\n\r\n            this._btnLayout2 = this._appToolbar.addButton(this.resources.get(\"icon_layout-2\"));\r\n            this._btnLayout2.isToggle = true;\r\n            this._btnLayout2.onClick.add(this.onButtonLayoutClick, this);\r\n\r\n\r\n            this._btnLayout3 = this._appToolbar.addButton(this.resources.get(\"icon_layout-3\"));\r\n            this._btnLayout3.isToggle = true;\r\n            this._btnLayout3.onClick.add(this.onButtonLayoutClick, this);\r\n\r\n            this._appToolbar.addSeparator();\r\n\r\n            this._btnTheme = this._appToolbar.addButton(this.resources.get(\"icon_theme\"));\r\n            this._btnTheme.htmlElement.classList.add(\"app-button-theme\", \"app-toolbar-icon-font\");\r\n            this._btnTheme.isToggle = true;\r\n            this._btnTheme.onClick.add(this.onButtonThemeClick, this);\r\n\r\n            this._appToolbar.appendToHtmlElement(this._part_appToolbar);\r\n        }\r\n\r\n        private initializeAppPanelsLayout() {\r\n            this._appPanelsLayout = new AppPanelsLayout();\r\n            this._appPanelsLayout.appendToHtmlElement(this._part_appContent);\r\n            this.initializeAppDataPanel();\r\n            this.initializeAppCodePanel();\r\n            this.initializeAppResultsPanel();\r\n        }\r\n\r\n        private initializeAppDataPanel() {\r\n            this._dataPanel = new AppDataPanel();\r\n            this._dataPanel.toolbar.header = `<span><i class=\"fas fa-table app-panel-icon\"></i> data</span>`;\r\n            this._dataPanel.setDefaultSourceData(this.loadDefaultDataHandler.bind(this));\r\n            this._dataPanel.onUserDataLoaded.add((s, e) => {\r\n                this.saveToLocalStorage();\r\n            }, this);\r\n            this._dataPanel.onResetData.add((s, e) => {\r\n                localStorage.removeItem(`${AppPage.StoragePrefix}current-data`);\r\n            }, this);\r\n            this._appPanelsLayout.panel1 = this._dataPanel;\r\n        }\r\n\r\n        private initializeAppCodePanel() {\r\n            this._codePanel = new AppCodePanel();\r\n            this._codePanel.toolbar.header = `<span><i class=\"fas fa-stream app-panel-icon\"></i> code</span>`;\r\n            this._codePanel.onUserCodeLoaded.add((s, e) => {\r\n                this.saveToLocalStorage();\r\n            }, this);\r\n            this._codePanel.onButtonResetCodeClick.add(this.onCodePanelResetCodeClick, this);\r\n            this._codePanel.onButtonRunClick.add(this.onButtonRunClick, this);\r\n            (<HTMLElement>this._codePanel.htmlElement.querySelector(\".app-tool-panel-content\")).style.overflow = \"hidden\";\r\n            this._appPanelsLayout.panel2 = this._codePanel;\r\n        }\r\n\r\n        private initializeAppResultsPanel() {\r\n            this._resultsPanel = new AppResultsPanel();\r\n            this._resultsPanel.toolbar.header = `<span><i class=\"fas fa-filter app-panel-icon\"></i> result</span>`;\r\n            this._resultsPanel.onButtonUseAsDataClick.add(this.onResultsPanelUseAsDataClick, this);\r\n            this._resultsPanel.onButtonExportClick.add(this.onResultsPanelExportClick, this);\r\n            this._appPanelsLayout.panel3 = this._resultsPanel;\r\n        }\r\n\r\n\r\n\r\n        private onApplicationThemeChanged(s: Juice.Application, e: Juice.EventArgs) {\r\n            if (s.currentTheme === \"dark-theme\") {\r\n                (<HTMLElement>this._btnTheme.htmlElement.querySelector(\"i.fas\")).style.display = \"none\";\r\n                (<HTMLElement>this._btnTheme.htmlElement.querySelector(\"i.far\")).style.display = \"inline-block\";\r\n                this._btnTheme.isSelected = false;\r\n                this._codePanel.setEditorTheme(\"ace/theme/monokai\");\r\n            }\r\n            else {\r\n                (<HTMLElement>this._btnTheme.htmlElement.querySelector(\"i.fas\")).style.display = \"inline-block\";\r\n                (<HTMLElement>this._btnTheme.htmlElement.querySelector(\"i.far\")).style.display = \"none\";\r\n                this._btnTheme.isSelected = true;\r\n                this._codePanel.setEditorTheme(\"ace/theme/textmate\");\r\n            }\r\n        }\r\n\r\n        private onCodePanelResetCodeClick(s: AppCodePanel, e: Juice.EventArgs) {\r\n            var question = new Juice.QuestionDialog(\"Reset code\", \"Reset code to default ?\", Juice.QuestionDialogButtons.YesNo, (result) => {\r\n                if (result) {\r\n                    this._codePanel.code = AppPage.DefaultEditorCode;\r\n                    localStorage.removeItem(`${AppPage.StoragePrefix}current-code`);\r\n                }\r\n            });\r\n            question.show(this.getApplication().rootElement);\r\n        }\r\n\r\n        private onResultsPanelUseAsDataClick(s: AppResultsPanel, e: Juice.EventArgs) {\r\n            if (this._resultsPanel.resultData) {\r\n                let data = this.clone(this._resultsPanel.resultData);\r\n                this._dataPanel.customData = data;\r\n                this.saveToLocalStorage();\r\n            }\r\n        }\r\n\r\n        private onResultsPanelExportClick(s: AppResultsPanel, e: Juice.EventArgs) {\r\n            if (this._resultsPanel.resultData) {\r\n                // TODO\r\n                Juice.MessageDialog.showMessage(\"Export\", \"not yet implemented\", this.getApplication().rootElement);\r\n            }\r\n        }\r\n\r\n        private clone(value: any): any {\r\n            if (value instanceof Linq.Enumerable) {\r\n                var array = value.toArray();\r\n                return new Linq.Enumerable(array);\r\n            }\r\n            else if (value instanceof Array || typeof value === \"object\") {\r\n                return JSON.parse(JSON.stringify(value));\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n\r\n        private setLayout(layout: PanelsLayoutType) {\r\n            switch (layout) {\r\n                case PanelsLayoutType.Layout1: {\r\n                    this._btnLayout1.isSelected = true;\r\n                    this._btnLayout2.isSelected = false;\r\n                    this._btnLayout3.isSelected = false;\r\n                    break;\r\n                }\r\n                case PanelsLayoutType.Layout2: {\r\n                    this._btnLayout1.isSelected = false;\r\n                    this._btnLayout2.isSelected = true;\r\n                    this._btnLayout3.isSelected = false;\r\n                    break;\r\n                }\r\n                case PanelsLayoutType.Layout3: {\r\n                    this._btnLayout1.isSelected = false;\r\n                    this._btnLayout2.isSelected = false;\r\n                    this._btnLayout3.isSelected = true;\r\n                    break;\r\n                }\r\n                default: {\r\n                    throw new Error(\"invalid layout type\");\r\n                }\r\n            }\r\n            this._appPanelsLayout.layoutType = layout;\r\n        }\r\n\r\n        private readFromLocalStorage() {\r\n\r\n            let savedLayout = localStorage.getItem(`${AppPage.StoragePrefix}current-layout`);\r\n            let savedTheme = localStorage.getItem(`${AppPage.StoragePrefix}current-theme`);\r\n            let savedCode = localStorage.getItem(`${AppPage.StoragePrefix}current-code`);\r\n            let savedData = localStorage.getItem(`${AppPage.StoragePrefix}current-data`);\r\n\r\n            if (savedLayout) {\r\n                this.setLayout(PanelsLayoutType[savedLayout as keyof typeof PanelsLayoutType])\r\n            } else {\r\n                this.setLayout(PanelsLayoutType.Layout1);\r\n            }\r\n\r\n            if (savedTheme) {\r\n                this._applicationService.setCurrentTheme(savedTheme);\r\n            }\r\n\r\n            if (savedCode) {\r\n                this._codePanel.code = savedCode;\r\n            } else {\r\n                this._codePanel.code = AppPage.DefaultEditorCode;\r\n            }\r\n\r\n            if (savedData) {\r\n                let data = JSON.parse(savedData);\r\n                this._dataPanel.customData = data;\r\n            } else {\r\n                this._dataPanel.resetData();\r\n            }\r\n        }\r\n\r\n        private saveToLocalStorage() {\r\n\r\n            localStorage.setItem(`${AppPage.StoragePrefix}current-layout`, PanelsLayoutType[this._appPanelsLayout.layoutType]);\r\n            localStorage.setItem(`${AppPage.StoragePrefix}current-theme`, this._applicationService.application.currentTheme);\r\n\r\n            localStorage.setItem(`${AppPage.StoragePrefix}current-code`, this._codePanel.code);\r\n\r\n            if (this._dataPanel.hasCustomData) {\r\n                localStorage.setItem(`${AppPage.StoragePrefix}current-data`, JSON.stringify(this._dataPanel.customData));\r\n            }\r\n        }\r\n\r\n        private loadDefaultDataHandler() {\r\n            return this.downloadJsonData(\"assets/data/us-500.json\");\r\n        }\r\n\r\n        private loadResult(result: any) {\r\n\r\n\t\t\tif (Linq.isGroupedEnumerable(result)) {\r\n\t\t\t\t// const tmp: any[] = [];\r\n\t\t\t\t// for (const grouping of result) {\r\n\t\t\t\t// \tconst item = {\r\n\t\t\t\t// \t\tkey: grouping.key,\r\n\t\t\t\t// \t\tchildren: grouping.count()\r\n\t\t\t\t// \t};\r\n\t\t\t\t// \ttmp.push(item);\r\n\t\t\t\t// }\r\n\t\t\t\t// result = tmp;\r\n\r\n\t\t\t\tconst tmp: {[name: string]: any} = {};\r\n\t\t\t\tfor (const grouping of result) {\r\n\t\t\t\t\tReflect.set(tmp, grouping.key, [...grouping]);\r\n\t\t\t\t}\r\n\t\t\t\tresult = tmp;\r\n\t\t\t}\r\n\t\t\telse if (Linq.isEnumerable(result)) {\r\n\t\t\t\tresult = (result as any).toArray();\r\n\t\t\t}\r\n\r\n            this._resultsPanel.resultData = result;\r\n\t\t}\r\n\r\n        private downloadJsonData(url: string) {\r\n            return new Promise<any>(\r\n                (resolve, reject) => {\r\n                    var xhr = new XMLHttpRequest();\r\n                    xhr.onload = (e) => {\r\n                        resolve(JSON.parse(xhr.response));\r\n                    };\r\n                    xhr.onerror = (e) => { reject(xhr.status + xhr.statusText); };\r\n                    xhr.open(\"GET\", url);\r\n                    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n                    xhr.send();\r\n                },\r\n            );\r\n        }\r\n\r\n        private getLastArrayItem<T>(array: Array<T>) {\r\n            if(!array) return null;\r\n            return array[array.length -1];\r\n        }\r\n\r\n        private showPerformances() {\r\n            (<HTMLElement>document.querySelector(\"#enumerableConstruction\")).innerText = (Math.round(this._performance.enumerableConstruction.duration * 1000) / 1000) + \" ms\";\r\n            (<HTMLElement>document.querySelector(\"#enumerableReading\")).innerText = (Math.round(this._performance.enumerableReading.duration * 1000) / 1000) + \" ms\";\r\n            (<HTMLElement>document.querySelector(\"#totalTime\")).innerText = (Math.round(this._performance.totalTime.duration * 1000) / 1000) + \" ms\";\r\n        }\r\n\r\n        private onButtonRunClick(s: AppCodePanel, e: Juice.EventArgs) {\r\n\r\n            var p = window.performance;\r\n            p.clearMarks();\r\n            p.clearMeasures();\r\n\r\n            var code = this._codePanel.code;\r\n            if (code.charAt(code.length - 1) === \";\")\r\n                code = code.substr(0, code.length - 1);\r\n\r\n            var func = new Function(\"data\", \"return \" + code + \";\");\r\n            var dataEnumerable = Linq.Enumerable.from(this._dataPanel.customData);\r\n\r\n            let result: any;\r\n\r\n            try {\r\n                p.mark(\"start\");\r\n                result = func(dataEnumerable);\r\n                p.mark(\"func-executed\");\r\n            }\r\n            catch (err) {\r\n                p.mark(\"func-executed\");\r\n                Juice.MessageDialog.showMessage(\"Execution error\", err);\r\n            }\r\n\r\n            this.loadResult(result);\r\n            p.mark(\"result-loaded\");\r\n\r\n            p.measure(\"enumerable construction\", \"start\", \"func-executed\");\r\n            p.measure(\"enumerable reading\", \"func-executed\", \"result-loaded\");\r\n            p.measure(\"total time\", \"start\", \"result-loaded\");\r\n\r\n            this._performance.enumerableConstruction = this.getLastArrayItem(p.getEntriesByName(\"enumerable construction\"));\r\n            this._performance.enumerableReading = this.getLastArrayItem(p.getEntriesByName(\"enumerable reading\"));\r\n            this._performance.totalTime = this.getLastArrayItem(p.getEntriesByName(\"total time\"));\r\n\r\n            this.showPerformances();\r\n\r\n            this.saveToLocalStorage();\r\n        }\r\n\r\n        private onButtonLayoutClick(s: Juice.Button, e: Juice.EventArgs) {\r\n            if (s === this._btnLayout1) {\r\n                this.setLayout(PanelsLayoutType.Layout1);\r\n            }\r\n            else if (s === this._btnLayout2) {\r\n                this.setLayout(PanelsLayoutType.Layout2);\r\n            }\r\n            else if (s === this._btnLayout3) {\r\n                this.setLayout(PanelsLayoutType.Layout3);\r\n            }\r\n            this.saveToLocalStorage();\r\n        }\r\n\r\n        private onButtonThemeClick(s: Juice.Button, e: Juice.EventArgs) {\r\n            if (s.isSelected) {\r\n                this._applicationService.setCurrentTheme(null);\r\n            }\r\n            else {\r\n                this._applicationService.setCurrentTheme(\"dark-theme\");\r\n            }\r\n            this.saveToLocalStorage();\r\n        }\r\n    }\r\n\r\n    Juice.Builder.defineComponent({\r\n        baseClass: Juice.Page,\r\n        classConstructor: AppPage,\r\n        className: \"AppPage\",\r\n        tagName: \"app-page\"\r\n    });\r\n}","\r\nnamespace TryLinq {\r\n\r\n    export enum PanelsLayoutType {\r\n        Layout1,\r\n        Layout2,\r\n        Layout3\r\n    }\r\n\r\n    export class AppPanelsLayout extends Juice.UIElement {\r\n\r\n        protected static readonly DefaultAppPanelsLayoutStyles = `\r\n    .app-panels-layout {\r\n        height: 100%;\r\n        position: relative;\r\n    }`;\r\n\r\n        protected static readonly DefaultAppPanelsLayoutHtmlTemplate = `\r\n    <template template-class=\"AppFramesLayout\">\r\n        <div template-part=\"layoutRoot\" class=\"app-panels-layout\">\r\n            <div template-part=\"panel1\" class=\"layout-panel panel1\"></div>\r\n            <div template-part=\"panel2\" class=\"layout-panel panel2\"></div>\r\n            <div template-part=\"panel3\" class=\"layout-panel panel3\"></div>\r\n        </div>\r\n    </template>`;\r\n\r\n        private static readonly DefaultAppPanelsLayoutTemplate = `<style>\\n${AppPanelsLayout.DefaultAppPanelsLayoutStyles}\\n</style>\\n${AppPanelsLayout.DefaultAppPanelsLayoutHtmlTemplate}`;\r\n\r\n        private _panel1: AppToolPanel;\r\n        private _panel2: AppToolPanel;\r\n        private _panel3: AppToolPanel;\r\n        private _layoutType: PanelsLayoutType;\r\n        private _part_layoutRoot: HTMLElement;\r\n\r\n        private _part_panel1: HTMLElement;\r\n        private _part_panel2: HTMLElement;\r\n        private _part_panel3: HTMLElement;\r\n\r\n        constructor(template?: Juice.TemplateSource) {\r\n            super(template || AppPanelsLayout.DefaultAppPanelsLayoutTemplate);\r\n        }\r\n\r\n        protected initializeTemplate(templatedElement: Juice.TemplatedElement) {\r\n            super.initializeTemplate(templatedElement);\r\n\r\n            this._part_layoutRoot = templatedElement.getPart<HTMLElement>(\"layoutRoot\").element;\r\n            this._part_panel1 = templatedElement.getPart<HTMLElement>(\"panel1\").element;\r\n            this._part_panel2 = templatedElement.getPart<HTMLElement>(\"panel2\").element;\r\n            this._part_panel3 = templatedElement.getPart<HTMLElement>(\"panel3\").element;\r\n\r\n            this.layoutType = PanelsLayoutType.Layout1\r\n        }\r\n\r\n        private onLayoutTypeChanged() {\r\n            switch (this._layoutType) {\r\n                case PanelsLayoutType.Layout1: {\r\n                    this._part_layoutRoot.classList.add(\"layout-1\");\r\n                    this._part_layoutRoot.classList.remove(\"layout-2\", \"layout-3\");\r\n                    break;\r\n                }\r\n                case PanelsLayoutType.Layout2: {\r\n                    this._part_layoutRoot.classList.add(\"layout-2\");\r\n                    this._part_layoutRoot.classList.remove(\"layout-1\", \"layout-3\");\r\n                    break;\r\n                }\r\n                case PanelsLayoutType.Layout3: {\r\n                    this._part_layoutRoot.classList.add(\"layout-3\");\r\n                    this._part_layoutRoot.classList.remove(\"layout-1\", \"layout-2\");\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        public get panel1(): AppToolPanel {\r\n            return this._panel1;\r\n        }\r\n        public set panel1(v: AppToolPanel) {\r\n            if (this._panel1 !== v) {\r\n                this._panel1 = v;\r\n                this._part_panel1.innerHTML = \"\";\r\n                this._part_panel1.appendChild(this._panel1.htmlElement);\r\n            }\r\n        }\r\n\r\n        public get panel2(): AppToolPanel {\r\n            return this._panel2;\r\n        }\r\n        public set panel2(v: AppToolPanel) {\r\n            if (this._panel2 !== v) {\r\n                this._panel2 = v;\r\n                this._part_panel2.innerHTML = \"\";\r\n                this._part_panel2.appendChild(this._panel2.htmlElement);\r\n            }\r\n        }\r\n\r\n        public get panel3(): AppToolPanel {\r\n            return this._panel3;\r\n        }\r\n        public set panel3(v: AppToolPanel) {\r\n            if (this._panel3 !== v) {\r\n                this._panel3 = v;\r\n                this._part_panel3.innerHTML = \"\";\r\n                this._part_panel3.appendChild(this._panel3.htmlElement);\r\n            }\r\n        }\r\n\r\n        public get layoutType(): PanelsLayoutType {\r\n            return this._layoutType;\r\n        }\r\n        public set layoutType(v: PanelsLayoutType) {\r\n            this._layoutType = v;\r\n            this.onLayoutTypeChanged();\r\n        }\r\n    }\r\n\r\n\r\n    Juice.Builder.defineComponent({\r\n        baseClass: Juice.UIElement,\r\n        classConstructor: AppPanelsLayout,\r\n        className: \"AppPanelsLayout\",\r\n        tagName: \"app-panels-layout\"\r\n    });\r\n}","\r\nnamespace TryLinq {\r\n\r\n    export class AppResultsPanel extends AppToolPanel {\r\n\r\n        private _part_layoutRoot: HTMLElement;\r\n        private _part_content: HTMLElement;\r\n\r\n        private _tableView: Juice.TableView;\r\n        private _btnClearResult: Juice.Button;\r\n        private _btnUseResultAsData: Juice.Button;\r\n        private _btnExportResult: Juice.Button;\r\n        private _lblElapsedTime: Juice.HtmlContainer;\r\n\r\n        constructor(template?: Juice.TemplateSource) {\r\n            super(template);\r\n            this.onDataCleared = new Juice.EventSet<AppResultsPanel, Juice.EventArgs>(this.events, \"onDataCleared\");\r\n            this.onButtonUseAsDataClick = new Juice.EventSet<AppResultsPanel, Juice.EventArgs>(this.events, \"onButtonUseAsDataClick\");\r\n            this.onButtonExportClick = new Juice.EventSet<AppResultsPanel, Juice.EventArgs>(this.events, \"onButtonExportClick\");\r\n        }\r\n\r\n        protected initializeTemplate(templatedElement: Juice.TemplatedElement) {\r\n            super.initializeTemplate(templatedElement);\r\n\r\n            this._part_layoutRoot = templatedElement.getPart<HTMLElement>(\"layoutRoot\").element;\r\n            this._part_content = templatedElement.getPart<HTMLElement>(\"content\").element;\r\n\r\n            this._tableView = new Juice.TableView();\r\n            this._part_content.appendChild(this._tableView.htmlElement);\r\n\r\n            this.toolbar.addSeparator();\r\n\r\n            this._btnClearResult = this.toolbar.addButton(`<i class=\"far fa-trash-alt\"></i>&nbsp;&nbsp;clear`);\r\n            this._btnClearResult.isEnabled = false;\r\n            this._btnClearResult.onClick.add((s, e) => {\r\n                this.clearData();\r\n                this.onDataCleared.trigger();\r\n            }, this);\r\n\r\n            this._btnUseResultAsData = this.toolbar.addButton(`<i class=\"fas fa-table\"></i>&nbsp;&nbsp;use as data`);\r\n            this._btnUseResultAsData.isEnabled = false;\r\n            this._btnUseResultAsData.onClick.add((s, e) => this.onButtonUseAsDataClick.trigger(), this);\r\n\r\n            this._btnExportResult = this.toolbar.addButton(`<i class=\"fas fa-file-export\"></i>&nbsp;&nbsp;export`);\r\n            this._btnExportResult.isEnabled = false;\r\n            this._btnExportResult.onClick.add((s, e) => this.onButtonExportClick.trigger(), this);\r\n\r\n            this.toolbar.addSeparator();\r\n        }\r\n\r\n        public onDataCleared: Juice.EventSet<AppResultsPanel, Juice.EventArgs>;\r\n        public onButtonUseAsDataClick: Juice.EventSet<AppResultsPanel, Juice.EventArgs>;\r\n        public onButtonExportClick: Juice.EventSet<AppResultsPanel, Juice.EventArgs>;\r\n\r\n        public get resultData(): any {\r\n            return this._tableView.data;\r\n        }\r\n        public set resultData(v: any) {\r\n\r\n            this._tableView.data = v;\r\n            this._btnClearResult.isEnabled = !!v;\r\n            this._btnUseResultAsData.isEnabled = !!v;\r\n            this._btnExportResult.isEnabled = !!v;\r\n        }\r\n\r\n        public clearData() {\r\n            this._tableView.clear();\r\n            this._btnClearResult.isEnabled = false;\r\n            this._btnUseResultAsData.isEnabled = false;\r\n            this._btnExportResult.isEnabled = false;\r\n        }\r\n    }\r\n\r\n    Juice.Builder.defineComponent({\r\n        baseClass: TryLinq.AppToolPanel,\r\n        classConstructor: AppResultsPanel,\r\n        className: \"AppResultsPanel\",\r\n        tagName: \"app-results-panel\"\r\n    });\r\n}","\r\nnamespace TryLinq {\r\n\r\n    export class AppToolbar extends Juice.Toolbar {\r\n\r\n        protected static readonly DefaultAppToolbarStyles = `\r\n    .app-toolbar {\r\n        display: flex;\r\n        flex-flow: row;\r\n        align-items: center;\r\n    }\r\n\r\n    .app-toolbar-label {\r\n        flex-grow: 1;\r\n    }\r\n\r\n    .app-toolbar-items {\r\n        width: auto;\r\n        white-space: nowrap;\r\n        overflow-x: hidden;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n    /*.app-toolbar-button.button-theme i.icon-dark {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        font-size: 18px;\r\n        color: #fff;\r\n    }\r\n    .app-toolbar-button.button-theme i.icon-light {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        font-size: 18px;\r\n        color: #fff;\r\n        display: none;\r\n    }\r\n\r\n    .app-toolbar-button.button-theme.active i.icon-dark {\r\n        display: none;\r\n    }\r\n\r\n    .app-toolbar-button.button-theme.active i.icon-light {\r\n        display: block;\r\n    }*/`;\r\n\r\n        protected static readonly DefaultAppToolbarHtmlTemplate = `\r\n    <template template-class=\"AppToolbar\">\r\n    <div class=\"app-toolbar\">\r\n        <div template-part=\"header\" class=\"app-toolbar-label\"></div>\r\n        <div template-part=\"toolbarItems\" class=\"app-toolbar-items\"></div>\r\n        <!--<div template-part=\"toolbarMenuButton\" class=\"app-toolbar-button\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                <circle cx=\"12\" cy=\"5.5\" r=\"1.5\" fill=\"black\" />\r\n                <circle cx=\"12\" cy=\"12\" r=\"1.5\" fill=\"black\" />\r\n                <circle cx=\"12\" cy=\"18.5\" r=\"1.5\" fill=\"black\" />\r\n            </svg>\r\n        </div>-->\r\n    </div>\r\n</template>`;\r\n\r\n        private static readonly DefaultAppToolbarTemplate = `<style>\\n${AppToolbar.DefaultAppToolbarStyles}\\n</style>\\n${AppToolbar.DefaultAppToolbarHtmlTemplate}`;\r\n\r\n        constructor(template?: Juice.TemplateSource) {\r\n            super(template || AppToolbar.DefaultAppToolbarTemplate);\r\n        }\r\n\r\n        protected initializeTemplate(templatedElement: Juice.TemplatedElement) {\r\n            super.initializeTemplate(templatedElement);\r\n        }\r\n    }\r\n\r\n    Juice.Builder.defineComponent({\r\n        baseClass: Juice.Toolbar,\r\n        classConstructor: AppToolbar,\r\n        className: \"AppToolbar\",\r\n        tagName: \"app-toolbar\"\r\n    });\r\n}","/// <reference path=\"../libs/juice-lite/juice-lite.d.ts\" />\r\n/// <reference path=\"../libs/linq-g/linq-g.d.ts\" />\r\n\r\nnamespace TryLinq {\r\n\r\n    import Application = Juice.Application;\r\n\r\n\texport const Version = \"0.0.1\";\r\n\r\n    export class TryLinqApp extends Application {\r\n\r\n        private _appPage: AppPage;\r\n\r\n        constructor() {\r\n            super();\r\n        }\r\n\r\n        protected initialize() {\r\n            super.initialize();\r\n            // TODO initialization\r\n\r\n            // this._appPage = new AppPage();\r\n            // this.onApplicationReady.add((s, e) => {\r\n            //     this.showPage(this._appPage);\r\n            // });\r\n        }\r\n\r\n        public run() {\r\n            super.configure(() => {\r\n                return {\r\n                    mainElement: () => new AppPage(this.applicationService),\r\n                    rootNode: () => document.body,\r\n\t\t\t\t\tcurrentTheme: () => \"dark-theme\",\r\n\t\t\t\t\ttemplateUrls: () => []\r\n                };\r\n            });\r\n            super.run();\r\n        }\r\n    }\r\n}\r\n"]}